(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){},73:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),r=t(34),o=t.n(r),i=(t(40),t(41),t(7)),s=t(12),l=t(8),j=t(35);function u(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{return n.split(".").reduce((function(e,n){return e[n]}),e||{})||t}catch(c){return t}}t(73);var m=t(0),p=j.io.connect("http://localhost:3000");var d=function(e){var n=e.action,t=e.onChange,c=e.submit;return Object(m.jsxs)("div",{className:"setup",children:[!n.playerName&&Object(m.jsxs)("div",{className:"action-buttons",children:[Object(m.jsx)("button",{className:"new-btn",onClick:function(){return t({name:"create"})},children:"Create Game"}),Object(m.jsx)("button",{className:"join-btn",rel:"noopener noreferrer",onClick:function(){return t({name:"join"})},children:"Join Game"})]}),"create"===n.name&&Object(m.jsx)("input",{type:"text",placeholder:"Enter Your Name",onChange:function(e){return t(Object(i.a)(Object(i.a)({},n),{},{playerName:e.target.value}))}}),"join"===n.name&&Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",placeholder:"Enter Game Id",onChange:function(e){return t(Object(i.a)(Object(i.a)({},n),{},{gameRoomId:e.target.value}))}}),Object(m.jsx)("input",{type:"text",placeholder:"Enter Your Name",onChange:function(e){return t(Object(i.a)(Object(i.a)({},n),{},{playerName:e.target.value}))}})]}),n.playerName&&(n.gameRoomId||"create"===n.name)&&Object(m.jsx)("button",{className:"join-btn",onClick:c,children:"Start"})]})},b=function(){var e={player1:{name:"",score:0},player2:{name:"",score:0}},n=Object(c.useState)({}),t=Object(l.a)(n,2),a=t[0],r=t[1],o=Object(c.useState)(""),i=Object(l.a)(o,2),j=i[0],b=i[1],h=Object(c.useState)(),O=Object(l.a)(h,2),f=O[0],g=O[1],x=Object(c.useState)(e),y=Object(l.a)(x,2),v=y[0],N=y[1],C=Object(c.useState)(!1),k=Object(l.a)(C,2),I=k[0],P=k[1],S=Object(c.useState)(!0),w=Object(l.a)(S,2),E=w[0],R=w[1];Object(c.useEffect)((function(){return p.on("connect",(function(){console.log(p.id)})),p.on("gameCreated",(function(e){console.log(e),g(e.roomId),b("Waiting for player to join at room ".concat(e.roomId,"..."))})),p.on("newPlayerJoinEvent",(function(e){F(e)})),function(){p.disconnect()}}),[]),Object(c.useEffect)((function(){p.on("scoreProcessed",(function(e){R(!0),"draw"===e.isWin?b("Its a drawn!"):G(e)}))}),[]);var G=function(e){var n=I===e.isWin?"player1":"player2";N((function(e){return b("".concat(u(e[n],"name")," has won!")),e[n].score++,e}))},F=function(e){N({player1:{name:e.currentPlayer,score:0},player2:{name:e.opponent,score:0}}),console.log("innitializing game",e),b("".concat(e.opponent," has joined game"))},J=function(e){R(!1),b("Waiting for opponent..."),p.emit("userPlayed",Object(s.a)({roomId:f},I?"currentPlayer":"opponent",e))},W=E&&f&&u(v,"player1.name")&&u(v,"player2.name");return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("p",{children:"Rock Paper Scissors"}),Object(m.jsx)("p",{className:"message",children:j}),W?Object(m.jsxs)("div",{className:"game",children:[Object(m.jsxs)("div",{className:"players",children:[Object(m.jsx)("div",{className:"player",children:u(v,"player1.name")}),Object(m.jsx)("div",{className:"player",children:u(v,"player2.name")}),Object(m.jsx)("span",{className:"score",children:u(v,"player1.score",0)})," : ",Object(m.jsx)("span",{className:"score",children:u(v,"player2.score",0)})]}),Object(m.jsx)("h5",{children:"Play"}),Object(m.jsxs)("div",{className:"choices",children:[Object(m.jsx)("img",{className:"choice",onClick:function(){return J("Rock")},width:100,height:100,src:"/rock.png",alt:"Rock"}),Object(m.jsx)("img",{className:"choice",onClick:function(){return J("Paper")},width:100,height:100,src:"/paper.png",alt:"Paper"}),Object(m.jsx)("img",{className:"choice",onClick:function(){return J("Scissor")},width:100,height:100,src:"/scissor.png",alt:"Scissors"})]}),Object(m.jsx)("button",{className:"exit-btn",rel:"noopener noreferrer",onClick:function(){return R(!1),b("Exitting game..."),p.emit("userLeft",Object(s.a)({roomId:f},I?"currentPlayer":"opponent",n)),g(null),r({}),N(e),p.disconnect(),void b("");var n},children:"Exit"})]}):!f&&Object(m.jsx)(d,{action:a,onChange:r,submit:function(){"create"===a.name&&(P(!0),p.emit("createGame",{name:a.playerName})),"join"===a.name&&(p.emit("joinGameEvent",{roomId:a.gameRoomId,name:a.playerName}),g(a.gameRoomId))}})]})})};var h=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(b,{})})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,76)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(h,{})}),document.getElementById("root")),O()}},[[75,1,2]]]);
//# sourceMappingURL=main.111ca921.chunk.js.map